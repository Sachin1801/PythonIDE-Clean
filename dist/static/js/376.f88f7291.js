"use strict";(self["webpackChunkvm_web_ide"]=self["webpackChunkvm_web_ide"]||[]).push([[376],{71376:function(e,n,a){a.r(n),a.d(n,{default:function(){return v}});var i=a(20641);const t={class:"test-container"},l={style:{height:"500px",border:"1px solid #ccc"}};function s(e,n,a,s,o,u){const r=(0,i.g2)("pane"),d=(0,i.g2)("splitpanes");return(0,i.uX)(),(0,i.CE)("div",t,[n[2]||(n[2]=(0,i.Lk)("h2",null,"Splitpanes Test Component",-1)),(0,i.Lk)("div",l,[(0,i.bF)(d,{class:"default-theme",horizontal:""},{default:(0,i.k6)(()=>[(0,i.bF)(r,{size:70,"min-size":30},{default:(0,i.k6)(()=>n[0]||(n[0]=[(0,i.Lk)("div",{style:{background:"#f0f0f0",height:"100%",padding:"20px"}},[(0,i.Lk)("h3",null,"Editor Area"),(0,i.Lk)("p",null,"This would be your code editor")],-1)])),_:1,__:[0]}),(0,i.bF)(r,{size:30,"min-size":10},{default:(0,i.k6)(()=>n[1]||(n[1]=[(0,i.Lk)("div",{style:{background:"#e0e0e0",height:"100%",padding:"20px"}},[(0,i.Lk)("h3",null,"Console Area"),(0,i.Lk)("p",null,"This would be your console")],-1)])),_:1,__:[1]})]),_:1})])])}var o=a(99415),u={name:"TestSplitpanes",components:{Splitpanes:o.S,Pane:o.Z}},r=a(66262);const d=(0,r.A)(u,[["render",s],["__scopeId","data-v-677a756e"]]);var v=d},99415:function(e,n,a){a.d(n,{S:function(){return o},Z:function(){return u}});var i=a(20641),t=a(50953),l=a(90033),s=a(96763);const o={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(e,{emit:n}){const a=n,l=e,o=(0,i.Ht)(),u=(0,t.KR)([]),r=(0,i.EW)(()=>u.value.reduce((e,n)=>(e[~~n.id]=n)&&e,{})),d=(0,i.EW)(()=>u.value.length),v=(0,t.KR)(null),c=(0,t.KR)(!1),m=(0,t.KR)({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),p=(0,t.KR)({splitter:null,timeoutId:null}),h=(0,i.EW)(()=>({["splitpanes splitpanes--"+(l.horizontal?"horizontal":"vertical")]:!0,"splitpanes--dragging":m.value.dragging})),z=()=>{document.addEventListener("mousemove",P,{passive:!1}),document.addEventListener("mouseup",g),"ontouchstart"in window&&(document.addEventListener("touchmove",P,{passive:!1}),document.addEventListener("touchend",g))},f=()=>{document.removeEventListener("mousemove",P,{passive:!1}),document.removeEventListener("mouseup",g),"ontouchstart"in window&&(document.removeEventListener("touchmove",P,{passive:!1}),document.removeEventListener("touchend",g))},x=(e,n)=>{const a=e.target.closest(".splitpanes__splitter");if(a){const{left:n,top:i}=a.getBoundingClientRect(),{clientX:t,clientY:s}="ontouchstart"in window&&e.touches?e.touches[0]:e;m.value.cursorOffset=l.horizontal?s-i:t-n}z(),m.value.mouseDown=!0,m.value.activeSplitter=n},P=e=>{m.value.mouseDown&&(e.preventDefault(),m.value.dragging=!0,requestAnimationFrame(()=>{E(_(e)),X("resize",{event:e},!0)}))},g=e=>{m.value.dragging&&(window.getSelection().removeAllRanges(),X("resized",{event:e},!0)),m.value.mouseDown=!1,m.value.activeSplitter=null,setTimeout(()=>{m.value.dragging=!1,f()},100)},S=(e,n)=>{"ontouchstart"in window&&(e.preventDefault(),p.value.splitter===n?(clearTimeout(p.value.timeoutId),p.value.timeoutId=null,w(e,n),p.value.splitter=null):(p.value.splitter=n,p.value.timeoutId=setTimeout(()=>p.value.splitter=null,500))),m.value.dragging||X("splitter-click",{event:e,index:n},!0)},w=(e,n)=>{if(X("splitter-dblclick",{event:e,index:n},!0),l.maximizePanes){let a=0;u.value=u.value.map((e,i)=>(e.size=i===n?e.max:e.min,i!==n&&(a+=e.min),e)),u.value[n].size-=a,X("pane-maximize",{event:e,index:n,pane:u.value[n]}),X("resized",{event:e,index:n},!0)}},M=(e,n)=>{X("pane-click",{event:e,index:r.value[n].index,pane:r.value[n]})},_=e=>{const n=v.value.getBoundingClientRect(),{clientX:a,clientY:i}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:a-(l.horizontal?0:m.value.cursorOffset)-n.left,y:i-(l.horizontal?m.value.cursorOffset:0)-n.top}},k=e=>{e=e[l.horizontal?"y":"x"];const n=v.value[l.horizontal?"clientHeight":"clientWidth"];return l.rtl&&!l.horizontal&&(e=n-e),100*e/n},E=e=>{const n=m.value.activeSplitter;let a={prevPanesSize:y(n),nextPanesSize:b(n),prevReachedMinPanes:0,nextReachedMinPanes:0};const i=0+(l.pushOtherPanes?0:a.prevPanesSize),t=100-(l.pushOtherPanes?0:a.nextPanesSize),s=Math.max(Math.min(k(e),t),i);let o=[n,n+1],r=u.value[o[0]]||null,d=u.value[o[1]]||null;const v=r.max<100&&s>=r.max+a.prevPanesSize,c=d.max<100&&s<=100-(d.max+b(n+1));if(v||c)v?(r.size=r.max,d.size=Math.max(100-r.max-a.prevPanesSize-a.nextPanesSize,0)):(r.size=Math.max(100-d.max-a.prevPanesSize-b(n+1),0),d.size=d.max);else{if(l.pushOtherPanes){const e=R(a,s);if(!e)return;({sums:a,panesToResize:o}=e),r=u.value[o[0]]||null,d=u.value[o[1]]||null}null!==r&&(r.size=Math.min(Math.max(s-a.prevPanesSize-a.prevReachedMinPanes,r.min),r.max)),null!==d&&(d.size=Math.min(Math.max(100-s-a.nextPanesSize-a.nextReachedMinPanes,d.min),d.max))}},R=(e,n)=>{const a=m.value.activeSplitter,i=[a,a+1];return n<e.prevPanesSize+u.value[i[0]].min&&(i[0]=L(a).index,e.prevReachedMinPanes=0,i[0]<a&&u.value.forEach((n,t)=>{t>i[0]&&t<=a&&(n.size=n.min,e.prevReachedMinPanes+=n.min)}),e.prevPanesSize=y(i[0]),void 0===i[0])?(e.prevReachedMinPanes=0,u.value[0].size=u.value[0].min,u.value.forEach((n,i)=>{i>0&&i<=a&&(n.size=n.min,e.prevReachedMinPanes+=n.min)}),u.value[i[1]].size=100-e.prevReachedMinPanes-u.value[0].min-e.prevPanesSize-e.nextPanesSize,null):n>100-e.nextPanesSize-u.value[i[1]].min&&(i[1]=W(a).index,e.nextReachedMinPanes=0,i[1]>a+1&&u.value.forEach((n,t)=>{t>a&&t<i[1]&&(n.size=n.min,e.nextReachedMinPanes+=n.min)}),e.nextPanesSize=b(i[1]-1),void 0===i[1])?(e.nextReachedMinPanes=0,u.value.forEach((n,i)=>{i<d.value-1&&i>=a+1&&(n.size=n.min,e.nextReachedMinPanes+=n.min)}),u.value[i[0]].size=100-e.prevPanesSize-b(i[0]-1),null):{sums:e,panesToResize:i}},y=e=>u.value.reduce((n,a,i)=>n+(i<e?a.size:0),0),b=e=>u.value.reduce((n,a,i)=>n+(i>e+1?a.size:0),0),L=e=>[...u.value].reverse().find(n=>n.index<e&&n.size>n.min)||{},W=e=>u.value.find(n=>n.index>e+1&&n.size>n.min)||{},N=()=>{var e;const n=Array.from((null==(e=v.value)?void 0:e.children)||[]);for(const a of n){const e=a.classList.contains("splitpanes__pane"),n=a.classList.contains("splitpanes__splitter");!e&&!n&&(a.remove(),s.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},B=(e,n,a=!1)=>{const i=e-1,t=document.createElement("div");t.classList.add("splitpanes__splitter"),a||(t.onmousedown=e=>x(e,i),typeof window<"u"&&"ontouchstart"in window&&(t.ontouchstart=e=>x(e,i)),t.onclick=e=>S(e,i+1)),t.ondblclick=e=>w(e,i+1),n.parentNode.insertBefore(t,n)},C=e=>{e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.remove()},O=()=>{var e;const n=Array.from((null==(e=v.value)?void 0:e.children)||[]);for(const i of n)i.className.includes("splitpanes__splitter")&&C(i);let a=0;for(const i of n)i.className.includes("splitpanes__pane")&&(!a&&l.firstSplitter?B(a,i,!0):a&&B(a,i),a++)},A=({uid:e,...n})=>{const a=r.value[e];for(const[i,t]of Object.entries(n))a[i]=t},T=e=>{var n;let a=-1;Array.from((null==(n=v.value)?void 0:n.children)||[]).some(n=>(n.className.includes("splitpanes__pane")&&a++,n.isSameNode(e.el))),u.value.splice(a,0,{...e,index:a}),u.value.forEach((e,n)=>e.index=n),c.value&&(0,i.dY)(()=>{O(),D({addedPane:u.value[a]}),X("pane-add",{pane:u.value[a]})})},G=e=>{const n=u.value.findIndex(n=>n.id===e);u.value[n].el=null;const a=u.value.splice(n,1)[0];u.value.forEach((e,n)=>e.index=n),(0,i.dY)(()=>{O(),X("pane-remove",{pane:a}),D({removedPane:{...a}})})},D=(e={})=>{e.addedPane||e.removedPane?u.value.some(e=>null!==e.givenSize||e.min||e.max<100)?K(e):F():I(),c.value&&X("resized")},F=()=>{const e=100/d.value;let n=0;const a=[],i=[];for(const t of u.value)t.size=Math.max(Math.min(e,t.max),t.min),n-=t.size,t.size>=t.max&&a.push(t.id),t.size<=t.min&&i.push(t.id);n>.1&&Q(n,a,i)},I=()=>{let e=100;const n=[],a=[];let i=0;for(const l of u.value)e-=l.size,null!==l.givenSize&&i++,l.size>=l.max&&n.push(l.id),l.size<=l.min&&a.push(l.id);let t=100;if(e>.1){for(const n of u.value)null===n.givenSize&&(n.size=Math.max(Math.min(e/(d.value-i),n.max),n.min)),t-=n.size;t>.1&&Q(t,n,a)}},K=({addedPane:e,removedPane:n}={})=>{let a=100/d.value,i=0;const t=[],l=[];null!==((null==e?void 0:e.givenSize)??null)&&(a=(100-e.givenSize)/(d.value-1));for(const s of u.value)i-=s.size,s.size>=s.max&&t.push(s.id),s.size<=s.min&&l.push(s.id);if(!(Math.abs(i)<.1)){for(const n of u.value)null!==(null==e?void 0:e.givenSize)&&(null==e?void 0:e.id)===n.id||(n.size=Math.max(Math.min(a,n.max),n.min)),i-=n.size,n.size>=n.max&&t.push(n.id),n.size<=n.min&&l.push(n.id);i>.1&&Q(i,t,l)}},Q=(e,n,a)=>{let t;t=e>0?e/(d.value-n.length):e/(d.value-a.length),u.value.forEach((i,l)=>{if(e>0&&!n.includes(i.id)){const n=Math.max(Math.min(i.size+t,i.max),i.min),a=n-i.size;e-=a,i.size=n}else if(!a.includes(i.id)){const n=Math.max(Math.min(i.size+t,i.max),i.min),a=n-i.size;e-=a,i.size=n}}),Math.abs(e)>.1&&(0,i.dY)(()=>{c.value&&s.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},X=(e,n=void 0,i=!1)=>{const t=(null==n?void 0:n.index)??m.value.activeSplitter??null;a(e,{...n,...null!==t&&{index:t},...i&&null!==t&&{prevPane:u.value[t-(l.firstSplitter?1:0)],nextPane:u.value[t+(l.firstSplitter?0:1)]},panes:u.value.map(e=>({min:e.min,max:e.max,size:e.size}))})};(0,i.wB)(()=>l.firstSplitter,()=>O()),(0,i.sV)(()=>{N(),O(),D(),X("ready"),c.value=!0}),(0,i.xo)(()=>c.value=!1);const Y=()=>{var e;return(0,i.h)("div",{ref:v,class:h.value},null==(e=o.default)?void 0:e.call(o))};return(0,i.Gt)("panes",u),(0,i.Gt)("indexedPanes",r),(0,i.Gt)("horizontal",(0,i.EW)(()=>l.horizontal)),(0,i.Gt)("requestUpdate",A),(0,i.Gt)("onPaneAdd",T),(0,i.Gt)("onPaneRemove",G),(0,i.Gt)("onPaneClick",M),(e,n)=>((0,i.uX)(),(0,i.Wv)((0,i.$y)(Y)))}},u={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(e){var n;const a=e,s=(0,i.WQ)("requestUpdate"),o=(0,i.WQ)("onPaneAdd"),u=(0,i.WQ)("horizontal"),r=(0,i.WQ)("onPaneRemove"),d=(0,i.WQ)("onPaneClick"),v=null==(n=(0,i.nI)())?void 0:n.uid,c=(0,i.WQ)("indexedPanes"),m=(0,i.EW)(()=>c.value[v]),p=(0,t.KR)(null),h=(0,i.EW)(()=>{const e=isNaN(a.size)||void 0===a.size?0:parseFloat(a.size);return Math.max(Math.min(e,f.value),z.value)}),z=(0,i.EW)(()=>{const e=parseFloat(a.minSize);return isNaN(e)?0:e}),f=(0,i.EW)(()=>{const e=parseFloat(a.maxSize);return isNaN(e)?100:e}),x=(0,i.EW)(()=>{var e;return`${u.value?"height":"width"}: ${null==(e=m.value)?void 0:e.size}%`});return(0,i.wB)(()=>h.value,e=>s({uid:v,size:e})),(0,i.wB)(()=>z.value,e=>s({uid:v,min:e})),(0,i.wB)(()=>f.value,e=>s({uid:v,max:e})),(0,i.sV)(()=>{o({id:v,el:p.value,min:z.value,max:f.value,givenSize:void 0===a.size?null:h.value,size:h.value})}),(0,i.xo)(()=>r(v)),(e,n)=>((0,i.uX)(),(0,i.CE)("div",{ref_key:"paneEl",ref:p,class:"splitpanes__pane",onClick:n[0]||(n[0]=n=>(0,t.R1)(d)(n,e._.uid)),style:(0,l.Tr)(x.value)},[(0,i.RG)(e.$slots,"default")],4))}}}}]);